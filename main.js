!function(){"use strict";class e{constructor(e,t,s){this._place=e.place,this._link=e.link,this._alt=e.alt,this._cardSelector=t,this._handleImageClick=s}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeButton()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteButton()})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick(this._link,this._alt,this._place)}))}_handleLikeButton(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}_handleDeleteButton(){this._cardElement.remove(),this._cardElement=null}getView(){const e=document.querySelector(this._cardSelector);this._cardElement=e.content.firstElementChild.cloneNode(!0);const t=this._cardElement.querySelector(".card__image"),s=this._cardElement.querySelector(".card__caption");return t.src=this._link,t.alt=this._alt,s.textContent=this._place,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._settings=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent="",t.classList.remove(this._settings.errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._toggleButtonState()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}}class s{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._isMouseDownOnModal=!1}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleMouseDown(e){e.target.classList.contains("modal_opened")?this._isMouseDownOnModal=!0:this._isMouseDownOnModal=!1}_handleMouseUp(e){this._isMouseDownOnModal&&e.target.classList.contains("modal_opened")&&this.close(e.target),this._isMouseDownOnModal=!1}setEventListeners(){this._popupElement.addEventListener("mousedown",this._handleMouseDown),this._popupElement.addEventListener("mouseup",this._handleMouseUp),this._popupElement.querySelector(".modal__close").addEventListener("click",(()=>this.close()))}}class n extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputs=Array.from(this._popupForm.querySelectorAll(".modal__input"))}_getInputValues(){return this._inputValues={},this._inputs.forEach((e=>{this._inputValues[e.name]=e.value})),this._inputValues}setEventListeners(){super.setEventListeners(),this._submitHandler=e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()},this._popupForm.addEventListener("submit",this._submitHandler)}}document.querySelector("#card-template").content;const o=document.querySelector("#profile-edit-modal"),i=document.querySelector("#profile-add-modal"),r=document.querySelector("#profile-preview-modal"),a=o.querySelector(".modal__form"),l=i.querySelector(".modal__form"),c=(document.querySelector(".cards__list"),document.querySelector("#profile-edit-button")),u=(o.querySelector("#modal-button-close"),i.querySelector("#modal-button-close"),document.querySelector("#profile-add-button"));r.querySelector("#modal-button-close"),r.querySelector(".modal__image"),r.querySelector(".modal__heading");const d=document.querySelector("#modal-input-name"),m=document.querySelector("#modal-input-description"),_=(l.querySelector("#modal-input-place"),l.querySelector("#modal-input-link"),{formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__submit-button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active"}),h=new t(_,a),p=new t(_,l);h.enableValidation(),p.enableValidation();const g=new class{constructor(e){let{nameSelector:t,jobSelector:s}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}setUserInfo(e){let{name:t,job:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}}({nameSelector:"#profile-name",jobSelector:"#profile-description"}),E=new n("#profile-edit-modal",(function(e){g.setUserInfo({name:e.title,job:e.description}),a.reset(),h.disableButton(),E.close()})),f=new n("#profile-add-modal",(function(e){const t=S({place:e.place,link:e.link,alt:`Image of ${e.place}`});y.addItem(t),l.reset(),p.disableButton(),f.close()})),w=new class extends s{constructor(e){super(e),this._image=this._popupElement.querySelector(".modal__image"),this._place=this._popupElement.querySelector(".modal__heading_type_preview")}open(e,t,s){this._image.src=e,this._image.alt=t,this._place.textContent=s,super.open()}}("#profile-preview-modal");E.setEventListeners(),f.setEventListeners(),w.setEventListeners();const y=new class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{place:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",alt:"Sunset view of Yosemite Valley with El Capitan visible, river flowing in the foreground surrounded by dense pine trees."},{place:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",alt:"Calm waters of Lake Louise reflecting the surrounding mountains under a soft blue sky."},{place:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg",alt:"Sunburst peaking over the silhouette of the Bald Mountains at sunrise, casting a warm glow across the hazy, layered ridges."},{place:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg",alt:"Starry night sky over the jagged peaks of Latemar mountain range with remnants of snow highlighting its rugged terrain."},{place:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg",alt:"Twilight hues casting a soft glow on the peaks of Vanoise National Park, reflected in the still waters of a mountain lake."},{place:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg",alt:"Wooden boats moored at a dock on Lago di Braies with towering Dolomite mountains reflecting in the crystal-clear lake water."}],renderer:e=>{const t=S(e);y.addItem(t,!0)}},".cards__list");function S(t){return new e(t,"#card-template",v).getView()}function v(e,t,s){w.open(e,t,s)}c.addEventListener("click",(()=>{const e=g.getUserInfo();d.value=e.name,m.value=e.job,h.resetValidation(),E.open()})),u.addEventListener("click",(()=>{f.open()})),y.renderItems()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25CcEksS0FBS2lJLFVBQVVHLEVBQUssR0FFeEIsQ0FFQVYsT0FBQUEsQ0FBUVcsR0FDTnJJLEtBQUtrSSxXQUFXSSxRQUFRRCxFQUMxQixHSHNFQSxDQUNFUCxNRHBGd0IsQ0FDMUIsQ0FDRTVILE1BQU8sa0JBQ1BFLEtBQU0scUdBQ05FLElBQUssMkhBRVAsQ0FDRUosTUFBTyxjQUNQRSxLQUFNLHdHQUNORSxJQUFLLDBGQUVQLENBQ0VKLE1BQU8saUJBQ1BFLEtBQU0sMkdBQ05FLElBQUssK0hBRVAsQ0FDRUosTUFBTyxVQUNQRSxLQUFNLG9HQUNORSxJQUFLLDJIQUVQLENBQ0VKLE1BQU8sd0JBQ1BFLEtBQU0sb0dBQ05FLElBQUssOEhBRVAsQ0FDRUosTUFBTyxpQkFDUEUsS0FBTSxpR0FDTkUsSUFBSyxpSUN3REx5SCxTQUFXSyxJQUNULE1BQU1iLEVBQWNDLEVBQVdZLEdBQy9CWCxFQUFZQyxRQUFRSCxHQUFhLEVBQUssR0FHMUMsZ0JBSUYsU0FBU0MsRUFBVzNILEdBRWxCLE9BRGEsSUFBSUYsRUFBS0UsRUFBTSxpQkFBa0JFLEdBQ2xDbUIsU0FDZCxDQUdBLFNBQVNuQixFQUFpQkssRUFBTUUsRUFBS0osR0FDbkN5SCxFQUFvQnBELEtBQUtuRSxFQUFNRSxFQUFLSixFQUN0QyxDQUdBOEYsRUFBa0JwRixpQkFBaUIsU0FBUyxLQUMxQyxNQUFNMkgsRUFBVy9CLEVBQVNNLGNBRTFCWixFQUFpQlQsTUFBUThDLEVBQVMvQyxLQUNsQ1csRUFBd0JWLE1BQVE4QyxFQUFTeEIsSUFFekNULEVBQXlCeEMsa0JBQ3pCb0QsRUFBaUIzQyxNQUFNLElBR3pCMEIsRUFBaUJyRixpQkFBaUIsU0FBUyxLQUN6QzBHLEVBQWdCL0MsTUFBTSxJQUl4QmtELEVBQVlVLGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2spIHtcbiAgICB0aGlzLl9wbGFjZSA9IGRhdGEucGxhY2U7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9hbHQgPSBkYXRhLmFsdDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbigpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX2xpbmssIHRoaXMuX2FsdCwgdGhpcy5fcGxhY2UpO1xuICAgICAgfSk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9XG5cbiAgX2hhbmRsZURlbGV0ZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIC8vIGdldCBjYXJkIHZpZXdcbiAgICBjb25zdCBjYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIGNvbnN0IGNhcmRDYXB0aW9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19jYXB0aW9uXCIpO1xuXG4gICAgY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgY2FyZEltYWdlLmFsdCA9IHRoaXMuX2FsdDtcbiAgICBjYXJkQ2FwdGlvbi50ZXh0Q29udGVudCA9IHRoaXMuX3BsYWNlO1xuXG4gICAgLy8gc2V0IGV2ZW50IGxpc3RlbmVyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIC8vIHJldHVybiBjYXJkXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgLy8gUFJJVkFURSBNRVRIT0RTXG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgLy8gUFVCTElDIE1FVEhPRFNcblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVNb3VzZURvd24gPSB0aGlzLl9oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVNb3VzZVVwID0gdGhpcy5faGFuZGxlTW91c2VVcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2lzTW91c2VEb3duT25Nb2RhbCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gT3RoZXIgbWV0aG9kcy4uLlxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSkge1xuICAgICAgdGhpcy5faXNNb3VzZURvd25Pbk1vZGFsID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faXNNb3VzZURvd25Pbk1vZGFsID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZU1vdXNlVXAoZXZlbnQpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLl9pc01vdXNlRG93bk9uTW9kYWwgJiZcbiAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIilcbiAgICApIHtcbiAgICAgIHRoaXMuY2xvc2UoZXZlbnQudGFyZ2V0KTtcbiAgICB9XG4gICAgdGhpcy5faXNNb3VzZURvd25Pbk1vZGFsID0gZmFsc2U7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVNb3VzZURvd24pO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9oYW5kbGVNb3VzZVVwKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIilcbiAgICApO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9pbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9O1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX3N1Ym1pdEhhbmRsZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBwbGFjZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gICAgYWx0OiBcIlN1bnNldCB2aWV3IG9mIFlvc2VtaXRlIFZhbGxleSB3aXRoIEVsIENhcGl0YW4gdmlzaWJsZSwgcml2ZXIgZmxvd2luZyBpbiB0aGUgZm9yZWdyb3VuZCBzdXJyb3VuZGVkIGJ5IGRlbnNlIHBpbmUgdHJlZXMuXCIsXG4gIH0sXG4gIHtcbiAgICBwbGFjZTogXCJMYWtlIExvdWlzZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcbiAgICBhbHQ6IFwiQ2FsbSB3YXRlcnMgb2YgTGFrZSBMb3Vpc2UgcmVmbGVjdGluZyB0aGUgc3Vycm91bmRpbmcgbW91bnRhaW5zIHVuZGVyIGEgc29mdCBibHVlIHNreS5cIixcbiAgfSxcbiAge1xuICAgIHBsYWNlOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICAgIGFsdDogXCJTdW5idXJzdCBwZWFraW5nIG92ZXIgdGhlIHNpbGhvdWV0dGUgb2YgdGhlIEJhbGQgTW91bnRhaW5zIGF0IHN1bnJpc2UsIGNhc3RpbmcgYSB3YXJtIGdsb3cgYWNyb3NzIHRoZSBoYXp5LCBsYXllcmVkIHJpZGdlcy5cIixcbiAgfSxcbiAge1xuICAgIHBsYWNlOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcbiAgICBhbHQ6IFwiU3RhcnJ5IG5pZ2h0IHNreSBvdmVyIHRoZSBqYWdnZWQgcGVha3Mgb2YgTGF0ZW1hciBtb3VudGFpbiByYW5nZSB3aXRoIHJlbW5hbnRzIG9mIHNub3cgaGlnaGxpZ2h0aW5nIGl0cyBydWdnZWQgdGVycmFpbi5cIixcbiAgfSxcbiAge1xuICAgIHBsYWNlOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICAgIGFsdDogXCJUd2lsaWdodCBodWVzIGNhc3RpbmcgYSBzb2Z0IGdsb3cgb24gdGhlIHBlYWtzIG9mIFZhbm9pc2UgTmF0aW9uYWwgUGFyaywgcmVmbGVjdGVkIGluIHRoZSBzdGlsbCB3YXRlcnMgb2YgYSBtb3VudGFpbiBsYWtlLlwiLFxuICB9LFxuICB7XG4gICAgcGxhY2U6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcbiAgICBhbHQ6IFwiV29vZGVuIGJvYXRzIG1vb3JlZCBhdCBhIGRvY2sgb24gTGFnbyBkaSBCcmFpZXMgd2l0aCB0b3dlcmluZyBEb2xvbWl0ZSBtb3VudGFpbnMgcmVmbGVjdGluZyBpbiB0aGUgY3J5c3RhbC1jbGVhciBsYWtlIHdhdGVyLlwiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKS5jb250ZW50O1xuXG4vLyBFbGVtZW50c1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLW1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLXByZXZpZXctbW9kYWxcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUFkZEZvcm0gPSBwcm9maWxlQWRkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBjYXJkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5cbi8vIEJ1dHRvbnNcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbkNsb3NlID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbC1idXR0b24tY2xvc2VcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkQnV0dG9uQ2xvc2UgPSBwcm9maWxlQWRkTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjbW9kYWwtYnV0dG9uLWNsb3NlXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hZGQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcmV2aWV3QnV0dG9uQ2xvc2UgPSBwcm9maWxlUHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI21vZGFsLWJ1dHRvbi1jbG9zZVwiXG4pO1xuZXhwb3J0IGxldCBpc01vdXNlRG93bk9uTW9kYWwgPSBmYWxzZTtcblxuLy8gUHJvZmlsZSBEYXRhXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBcIiNwcm9maWxlLW5hbWVcIjtcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBcIiNwcm9maWxlLWRlc2NyaXB0aW9uXCI7XG5leHBvcnQgY29uc3QgY2FyZFByZXZpZXdJbWFnZSA9XG4gIHByb2ZpbGVQcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG5leHBvcnQgY29uc3QgY2FyZFByZXZpZXdDYXB0aW9uID1cbiAgcHJvZmlsZVByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19oZWFkaW5nXCIpO1xuXG4vLyBGb3JtIERhdGFcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbnB1dC1uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbnB1dERlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjbW9kYWwtaW5wdXQtZGVzY3JpcHRpb25cIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXRQbGFjZSA9XG4gIHByb2ZpbGVBZGRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW5wdXQtcGxhY2VcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUlucHV0TGluayA9XG4gIHByb2ZpbGVBZGRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW5wdXQtbGlua1wiKTtcblxuLy8gVmFsaWRhdGlvbiBzZXR0aW5nc1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ1dHRvbl9pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG59O1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgcHJvZmlsZUVkaXRGb3JtLFxuICBwcm9maWxlQWRkRm9ybSxcbiAgcHJvZmlsZUVkaXRCdXR0b24sXG4gIHByb2ZpbGVBZGRCdXR0b24sXG4gIHByb2ZpbGVOYW1lLFxuICBwcm9maWxlRGVzY3JpcHRpb24sXG4gIHByb2ZpbGVJbnB1dE5hbWUsXG4gIHByb2ZpbGVJbnB1dERlc2NyaXB0aW9uLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG4vLyBpbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwibG9kYXNoXCI7XG4vLyBpbXBvcnQgeyBwcm9maWxlIH0gZnJvbSBcImNvbnNvbGVcIjtcblxuLy8gRk9STSBWQUxJREFUSU9OIElOSVRcbmNvbnN0IHByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIHByb2ZpbGVFZGl0Rm9ybVxuKTtcbmNvbnN0IHByb2ZpbGVBZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgcHJvZmlsZUFkZEZvcm1cbik7XG5cbnByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5wcm9maWxlQWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vIFVTRVIgSU5GTyBJTklUXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogcHJvZmlsZU5hbWUsXG4gIGpvYlNlbGVjdG9yOiBwcm9maWxlRGVzY3JpcHRpb24sXG59KTtcblxuZnVuY3Rpb24gaGFuZGxlRWRpdEZvcm1TdWJtaXQoZGF0YSkge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgbmFtZTogZGF0YS50aXRsZSxcbiAgICBqb2I6IGRhdGEuZGVzY3JpcHRpb24sXG4gIH0pO1xuXG4gIHByb2ZpbGVFZGl0Rm9ybS5yZXNldCgpO1xuICBwcm9maWxlRWRpdEZvcm1WYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xuICBwcm9maWxlRWRpdFBvcHVwLmNsb3NlKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZEZvcm1TdWJtaXQoZGF0YSkge1xuICBjb25zdCBjYXJkRGF0YSA9IHtcbiAgICBwbGFjZTogZGF0YS5wbGFjZSxcbiAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgYWx0OiBgSW1hZ2Ugb2YgJHtkYXRhLnBsYWNlfWAsXG4gIH07XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XG5cbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gIHByb2ZpbGVBZGRGb3JtLnJlc2V0KCk7XG4gIHByb2ZpbGVBZGRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcbiAgcHJvZmlsZUFkZFBvcHVwLmNsb3NlKCk7XG59XG5cbi8vIFBPUFVQIElOSVRcbmNvbnN0IHByb2ZpbGVFZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZUVkaXRGb3JtU3VibWl0XG4pO1xuXG5jb25zdCBwcm9maWxlQWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1hZGQtbW9kYWxcIixcbiAgaGFuZGxlQWRkRm9ybVN1Ym1pdFxuKTtcblxuY29uc3QgcHJvZmlsZVByZXZpZXdQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcm9maWxlLXByZXZpZXctbW9kYWxcIik7XG5cbnByb2ZpbGVFZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnByb2ZpbGVBZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xucHJvZmlsZVByZXZpZXdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBTRUNUSU9OIElOSVRcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCwgdHJ1ZSk7XG4gICAgfSxcbiAgfSxcbiAgXCIuY2FyZHNfX2xpc3RcIlxuKTtcblxuLy8gQ1JFQVRFIENBUkRcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVJbWFnZUNsaWNrKTtcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufVxuXG4vLyBJTUFHRSBDTElDSyBIQU5ETEVSXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGxpbmssIGFsdCwgcGxhY2UpIHtcbiAgcHJvZmlsZVByZXZpZXdQb3B1cC5vcGVuKGxpbmssIGFsdCwgcGxhY2UpO1xufVxuXG4vLyBFVkVOVCBMSVNURU5FUlNcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcblxuICBwcm9maWxlSW5wdXROYW1lLnZhbHVlID0gdXNlckRhdGEubmFtZTtcbiAgcHJvZmlsZUlucHV0RGVzY3JpcHRpb24udmFsdWUgPSB1c2VyRGF0YS5qb2I7XG5cbiAgcHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwcm9maWxlRWRpdFBvcHVwLm9wZW4oKTtcbn0pO1xuXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2ZpbGVBZGRQb3B1cC5vcGVuKCk7XG59KTtcblxuLy8gLy8gSW5pdGlhbCByZW5kZXJcbmNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG5cbi8vIFdpbGwgYWRkIG5lZWRzIGNvcnJlY3RlZCBpbiBmdXR1cmVcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5fcGxhY2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19oZWFkaW5nX3R5cGVfcHJldmlld1wiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4obGluaywgYWx0LCBwbGFjZSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYWx0O1xuICAgIHRoaXMuX3BsYWNlLnRleHRDb250ZW50ID0gcGxhY2U7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJ0aGlzIiwiX3BsYWNlIiwicGxhY2UiLCJfbGluayIsImxpbmsiLCJfYWx0IiwiYWx0IiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJnZXRWaWV3IiwiY2FyZFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbG9uZU5vZGUiLCJjYXJkSW1hZ2UiLCJjYXJkQ2FwdGlvbiIsInNyYyIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JDbGFzcyIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlQnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiZm9yRWFjaCIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZU1vdXNlRG93biIsIl9oYW5kbGVNb3VzZVVwIiwiX2lzTW91c2VEb3duT25Nb2RhbCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleSIsInRhcmdldCIsImNvbnRhaW5zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0cyIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbnB1dFZhbHVlcyIsImlucHV0IiwibmFtZSIsInZhbHVlIiwiX3N1Ym1pdEhhbmRsZXIiLCJwcm9maWxlRWRpdE1vZGFsIiwicHJvZmlsZUFkZE1vZGFsIiwicHJvZmlsZVByZXZpZXdNb2RhbCIsInByb2ZpbGVFZGl0Rm9ybSIsInByb2ZpbGVBZGRGb3JtIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlQWRkQnV0dG9uIiwicHJvZmlsZUlucHV0TmFtZSIsInByb2ZpbGVJbnB1dERlc2NyaXB0aW9uIiwidmFsaWRhdGlvblNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yIiwicHJvZmlsZUFkZEZvcm1WYWxpZGF0b3IiLCJ1c2VySW5mbyIsIl9yZWYiLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiZ2V0VXNlckluZm8iLCJqb2IiLCJzZXRVc2VySW5mbyIsIl9yZWYyIiwicHJvZmlsZUVkaXRQb3B1cCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJyZXNldCIsInByb2ZpbGVBZGRQb3B1cCIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImNhcmRTZWN0aW9uIiwiYWRkSXRlbSIsInByb2ZpbGVQcmV2aWV3UG9wdXAiLCJfaW1hZ2UiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJ1c2VyRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=