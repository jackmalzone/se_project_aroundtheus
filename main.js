!function(){"use strict";document.querySelector("#card-template").content;const e=document.querySelector("#profile-edit-modal"),t=document.querySelector("#profile-add-modal"),s=document.querySelector("#profile-avatar-modal"),n=document.querySelector("#profile-preview-modal"),r=e.querySelector("#edit-card-form"),o=t.querySelector("#add-card-form"),a=s.querySelector("#edit-avatar-form"),i=(document.querySelector(".cards__list"),document.querySelector("#profile-edit-button")),l=(e.querySelector("#modal-button-close"),t.querySelector("#modal-button-close"),document.querySelector("#profile-add-button")),c=document.querySelector("#profile-avatar-button");s.querySelector("#modal-button-close"),n.querySelector("#modal-button-close"),n.querySelector(".modal__image"),n.querySelector(".modal__heading");const d=document.querySelector("#modal-input-name"),u=document.querySelector("#modal-input-description"),h=(o.querySelector("#modal-input-name"),o.querySelector("#modal-input-link"),{formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__submit-button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active"}),m=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}async _request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("Headers: ",this._headers);const s=await fetch(`${this._baseUrl}${e}`,{...t,headers:this._headers});return this._checkResponse(s)}async getInitialCards(){return this._request("/cards")}async getUserInfo(){return this._request("/users/me")}async updateProfile(e){return this._request("/users/me",{method:"PATCH",body:JSON.stringify(e)})}async updateAvatar(e){return this._request("/users/me/avatar",{method:"PATCH",body:JSON.stringify({avatar:e})})}async addCard(e){return this._request("/cards",{method:"POST",body:JSON.stringify(e)})}async deleteCard(e){return this._request(`/cards/${e}`,{method:"DELETE"})}async likeCard(e){return this._request(`/cards/${e}/likes`,{method:"PUT"})}async unlikeCard(e){return this._request(`/cards/${e}/likes`,{method:"DELETE"})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{Authorization:"4e792af1-5796-4959-889f-63e7625cacce","Content-Type":"application/json"}});var _=m;class p{constructor(e,t,s,n){this._name=e.name,this._link=e.link,this._alt=e.alt,this._cardSelector=t,this._handleImageClick=s,this._id=e._id,this._likes=e.likes||[],this._currentUserId=n,console.log("Card Data:",e),console.log("Card ID:",this._id),console.log("Likes Array:",this._likes),this._isLiked=this._likes.some((e=>e._id===this._currentUserId))}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeButton()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteButton()})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick(this._link,this._alt,this._name)}))}async _handleLikeButton(){const e=this._cardElement.querySelector(".card__like-button");try{if(this._isLiked){const t=await _.unlikeCard(this._id);console.log("Updated Card after unlike:",t),this._isLiked=t.likes.some((e=>e._id===this._currentUserId)),e.classList.remove("card__like-button_active")}else{const t=await _.likeCard(this._id);console.log("Updated Card after like:",t),this._isLiked=t.likes.some((e=>e._id===this._currentUserId)),e.classList.add("card__like-button_active")}}catch(e){console.error("Error liking/unliking card:",e)}}async _handleDeleteButton(){try{await _.deleteCard(this._id),this._cardElement.remove(),this._cardElement=null}catch(e){console.error("Error deleting card:",e)}}getView(){const e=document.querySelector(this._cardSelector);this._cardElement=e.content.firstElementChild.cloneNode(!0);const t=this._cardElement.querySelector(".card__image"),s=this._cardElement.querySelector(".card__caption"),n=this._cardElement.querySelector(".card__like-button");return t.src=this._link,t.alt=this._alt,s.textContent=this._name,this._isLiked&&n.classList.add("card__like-button_active"),this._setEventListeners(),this._cardElement}}class g{constructor(e,t){this._settings=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent="",t.classList.remove(this._settings.errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._toggleButtonState()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}}class y{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._isMouseDownOnModal=!1}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleMouseDown(e){e.target.classList.contains("modal_opened")?this._isMouseDownOnModal=!0:this._isMouseDownOnModal=!1}_handleMouseUp(e){this._isMouseDownOnModal&&e.target.classList.contains("modal_opened")&&this.close(e.target),this._isMouseDownOnModal=!1}setEventListeners(){this._popupElement.addEventListener("mousedown",this._handleMouseDown),this._popupElement.addEventListener("mouseup",this._handleMouseUp),this._popupElement.querySelector(".modal__close").addEventListener("click",(()=>this.close()))}}class E extends y{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputs=Array.from(this._popupForm.querySelectorAll(".modal__input")),this._submitButton=this._popupForm.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}_getInputValues(){return this._inputValues={},this._inputs.forEach((e=>{this._inputValues[e.name]=e.value})),this._inputValues}setEventListeners(){super.setEventListeners(),this._submitHandler=async e=>{e.preventDefault();try{await this._handleFormSubmit(this._getInputValues()),this.close()}catch(e){console.error("Error submitting form:",e)}finally{this.renderLoading(!1)}},this._popupForm.addEventListener("submit",this._submitHandler)}renderLoading(e){this._submitButton.textContent=e?"Saving...":this._submitButtonText}}const f=new g(h,r),v=new g(h,o),b=new g(h,a);f.enableValidation(),v.enableValidation(),b.enableValidation();const k=new class{constructor(e){let{nameSelector:t,aboutSelector:s,avatarSelector:n}=e;this._nameElement=document.querySelector(t),this._aboutElement=document.querySelector(s),this._avatarElement=document.querySelector(n),this._nameElement||console.error(`Element not found for selector: ${t}`),this._aboutElement||console.error(`Element not found for selector: ${s}`),this._avatarElement||console.error(`Element not found for selector: ${n}`)}getUserInfo(){return{name:this._nameElement.textContent,about:this._aboutElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,about:s,avatar:n}=e;t&&(this._nameElement.textContent=t),s&&(this._aboutElement.textContent=s),n&&(this._avatarElement.src=n)}async updateUserInfo(){try{const e=await _.getUserInfo();this.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})}catch(e){console.error(e)}}}({nameSelector:"#profile-name",aboutSelector:"#profile-description",avatarSelector:"#profile-avatar"});let w;const S=new E("#profile-edit-modal",(async function(e){try{S.renderLoading(!0),await _.updateProfile({name:e.name,about:e.description}),k.setUserInfo({name:e.name,about:e.description}),r.reset(),f.disableButton(),S.close()}catch(e){console.error("Error updating profile:",e)}finally{S.renderLoading(!1)}})),L=new E("#profile-add-modal",(async function(e){try{L.renderLoading(!0);const t=B(await _.addCard({name:e.place,link:e.link}),w);I.addItem(t),o.reset(),v.disableButton(),L.close()}catch(e){console.error("Error adding card:",e)}finally{L.renderLoading(!1)}})),q=new E("#profile-avatar-modal",(async function(e){try{q.renderLoading(!0),await _.updateAvatar(e.link),k.setUserInfo({avatar:e.link}),a.reset(),b.disableButton(),q.close()}catch(e){console.error("Error updating avatar:",e)}finally{q.renderLoading(!1)}})),C=new class extends y{constructor(e){super(e),this._image=this._popupElement.querySelector(".modal__image"),this._place=this._popupElement.querySelector(".modal__heading_type_preview")}open(e,t,s){this._image.src=e,this._image.alt=t,this._place.textContent=s,super.open()}}("#profile-preview-modal");S.setEventListeners(),L.setEventListeners(),q.setEventListeners(),C.setEventListeners();const I=new class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",alt:"Sunset view of Yosemite Valley with El Capitan visible, river flowing in the foreground surrounded by dense pine trees."},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",alt:"Calm waters of Lake Louise reflecting the surrounding mountains under a soft blue sky."},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg",alt:"Sunburst peaking over the silhouette of the Bald Mountains at sunrise, casting a warm glow across the hazy, layered ridges."},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg",alt:"Starry night sky over the jagged peaks of Latemar mountain range with remnants of snow highlighting its rugged terrain."},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg",alt:"Twilight hues casting a soft glow on the peaks of Vanoise National Park, reflected in the still waters of a mountain lake."},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg",alt:"Wooden boats moored at a dock on Lago di Braies with towering Dolomite mountains reflecting in the crystal-clear lake water."}],renderer:e=>{const t=B(e,w);I.addItem(t,!0)}},".cards__list");function B(e,t){return console.log("Creating card with user ID:",t),new p(e,"#card-template",U,t).getView()}function U(e,t,s){C.open(e,t,s)}i.addEventListener("click",(()=>{const e=k.getUserInfo();d.value=e.name,u.value=e.about,f.resetValidation(),S.open()})),l.addEventListener("click",(()=>{L.open()})),c.addEventListener("click",(()=>{q.open()})),document.addEventListener("DOMContentLoaded",(async()=>{try{const e=await _.getUserInfo();w=e._id,k.setUserInfo(e),console.log("Current User ID:",w);const t=await _.getInitialCards();console.log("Initial Cards Data:",t),t.forEach((e=>{console.log("Card Data:",e);const t=B(e,w);I.addItem(t)}))}catch(e){console.error("Error during initial load:",e)}})),I.renderItems()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPeEYsR0FDUGpELFFBQVFrRCxNQUFNLDZCQUE4QkQsRUFDOUMsS0FJRjJGLEVBQVlZLGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxuICAgIGFsdDogXCJTdW5zZXQgdmlldyBvZiBZb3NlbWl0ZSBWYWxsZXkgd2l0aCBFbCBDYXBpdGFuIHZpc2libGUsIHJpdmVyIGZsb3dpbmcgaW4gdGhlIGZvcmVncm91bmQgc3Vycm91bmRlZCBieSBkZW5zZSBwaW5lIHRyZWVzLlwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcbiAgICBhbHQ6IFwiQ2FsbSB3YXRlcnMgb2YgTGFrZSBMb3Vpc2UgcmVmbGVjdGluZyB0aGUgc3Vycm91bmRpbmcgbW91bnRhaW5zIHVuZGVyIGEgc29mdCBibHVlIHNreS5cIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gICAgYWx0OiBcIlN1bmJ1cnN0IHBlYWtpbmcgb3ZlciB0aGUgc2lsaG91ZXR0ZSBvZiB0aGUgQmFsZCBNb3VudGFpbnMgYXQgc3VucmlzZSwgY2FzdGluZyBhIHdhcm0gZ2xvdyBhY3Jvc3MgdGhlIGhhenksIGxheWVyZWQgcmlkZ2VzLlwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gICAgYWx0OiBcIlN0YXJyeSBuaWdodCBza3kgb3ZlciB0aGUgamFnZ2VkIHBlYWtzIG9mIExhdGVtYXIgbW91bnRhaW4gcmFuZ2Ugd2l0aCByZW1uYW50cyBvZiBzbm93IGhpZ2hsaWdodGluZyBpdHMgcnVnZ2VkIHRlcnJhaW4uXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICAgIGFsdDogXCJUd2lsaWdodCBodWVzIGNhc3RpbmcgYSBzb2Z0IGdsb3cgb24gdGhlIHBlYWtzIG9mIFZhbm9pc2UgTmF0aW9uYWwgUGFyaywgcmVmbGVjdGVkIGluIHRoZSBzdGlsbCB3YXRlcnMgb2YgYSBtb3VudGFpbiBsYWtlLlwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICAgIGFsdDogXCJXb29kZW4gYm9hdHMgbW9vcmVkIGF0IGEgZG9jayBvbiBMYWdvIGRpIEJyYWllcyB3aXRoIHRvd2VyaW5nIERvbG9taXRlIG1vdW50YWlucyByZWZsZWN0aW5nIGluIHRoZSBjcnlzdGFsLWNsZWFyIGxha2Ugd2F0ZXIuXCIsXG4gIH0sXG5dO1xuXG4vLyBBUElcbmV4cG9ydCBjb25zdCBhcGlDb25maWcgPSB7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgYXV0aFRva2VuOiBcIjRlNzkyYWYxLTU3OTYtNDk1OS04ODlmLTYzZTc2MjVjYWNjZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKS5jb250ZW50O1xuXG4vLyBFbGVtZW50c1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXIgPSBcIiNwcm9maWxlLWF2YXRhclwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLW1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtYXZhdGFyLW1vZGFsXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtcHJldmlldy1tb2RhbFwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9XG4gIHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNlZGl0LWNhcmQtZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkRm9ybSA9IHByb2ZpbGVBZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWZvcm1cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhckZvcm0gPVxuICBwcm9maWxlQXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIiNlZGl0LWF2YXRhci1mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuLy8gQnV0dG9uc1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uQ2xvc2UgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI21vZGFsLWJ1dHRvbi1jbG9zZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBZGRCdXR0b25DbG9zZSA9IHByb2ZpbGVBZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbC1idXR0b24tY2xvc2VcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWFkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtYXZhdGFyLWJ1dHRvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJCdXR0b25DbG9zZSA9IHByb2ZpbGVBdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbC1idXR0b24tY2xvc2VcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlUHJldmlld0J1dHRvbkNsb3NlID0gcHJvZmlsZVByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbC1idXR0b24tY2xvc2VcIlxuKTtcbmV4cG9ydCBsZXQgaXNNb3VzZURvd25Pbk1vZGFsID0gZmFsc2U7XG5cbi8vIFByb2ZpbGUgRGF0YVxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gXCIjcHJvZmlsZS1uYW1lXCI7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gXCIjcHJvZmlsZS1kZXNjcmlwdGlvblwiO1xuZXhwb3J0IGNvbnN0IGNhcmRQcmV2aWV3SW1hZ2UgPVxuICBwcm9maWxlUHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRQcmV2aWV3Q2FwdGlvbiA9XG4gIHByb2ZpbGVQcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faGVhZGluZ1wiKTtcblxuLy8gRm9ybSBEYXRhXG5leHBvcnQgY29uc3QgcHJvZmlsZUlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW5wdXQtbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI21vZGFsLWlucHV0LWRlc2NyaXB0aW9uXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUlucHV0bmFtZSA9XG4gIHByb2ZpbGVBZGRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW5wdXQtbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXRMaW5rID1cbiAgcHJvZmlsZUFkZEZvcm0ucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbnB1dC1saW5rXCIpO1xuXG4vLyBWYWxpZGF0aW9uIHNldHRpbmdzXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcbn07XG4iLCJpbXBvcnQgeyBhcGlDb25maWcgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBhc3luYyBfcmVxdWVzdChlbmRwb2ludCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc29sZS5sb2coXCJIZWFkZXJzOiBcIiwgdGhpcy5faGVhZGVycyk7XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfSR7ZW5kcG9pbnR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcbiAgfVxuXG4gIGFzeW5jIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChcIi9jYXJkc1wiKTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KFwiL3VzZXJzL21lXCIpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlUHJvZmlsZShkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoXCIvdXNlcnMvbWVcIiwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUF2YXRhcihhdmF0YXJMaW5rKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoXCIvdXNlcnMvbWUvYXZhdGFyXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IGF2YXRhckxpbmsgfSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBhZGRDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChcIi9jYXJkc1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAvY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYC9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyB1bmxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAvY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgIH0pO1xuICB9XG59XG5cbi8vIEFQSSBJTklUXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogYXBpQ29uZmlnLmJhc2VVcmwsXG4gIGhlYWRlcnM6IHtcbiAgICBBdXRob3JpemF0aW9uOiBcIjRlNzkyYWYxLTU3OTYtNDk1OS04ODlmLTYzZTc2MjVjYWNjZVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwaTtcbiIsImltcG9ydCBhcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuaW1wb3J0IHsgY2FyZExpc3QgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2ssIGN1cnJlbnRVc2VySWQpIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fYWx0ID0gZGF0YS5hbHQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzIHx8IFtdO1xuICAgIHRoaXMuX2N1cnJlbnRVc2VySWQgPSBjdXJyZW50VXNlcklkO1xuXG4gICAgY29uc29sZS5sb2coXCJDYXJkIERhdGE6XCIsIGRhdGEpOyAvLyBEZWJ1Z2dpbmcgbGluZVxuICAgIGNvbnNvbGUubG9nKFwiQ2FyZCBJRDpcIiwgdGhpcy5faWQpOyAvLyBEZWJ1Z2dpbmcgbGluZVxuICAgIGNvbnNvbGUubG9nKFwiTGlrZXMgQXJyYXk6XCIsIHRoaXMuX2xpa2VzKTsgLy8gRGVidWdnaW5nIGxpbmVcblxuICAgIHRoaXMuX2lzTGlrZWQgPSB0aGlzLl9saWtlcy5zb21lKFxuICAgICAgKHVzZXIpID0+IHVzZXIuX2lkID09PSB0aGlzLl9jdXJyZW50VXNlcklkXG4gICAgKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fbGluaywgdGhpcy5fYWx0LCB0aGlzLl9uYW1lKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgX2hhbmRsZUxpa2VCdXR0b24oKSB7XG4gICAgY29uc3QgbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDYXJkID0gYXdhaXQgYXBpLnVubGlrZUNhcmQodGhpcy5faWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0ZWQgQ2FyZCBhZnRlciB1bmxpa2U6XCIsIHVwZGF0ZWRDYXJkKTtcbiAgICAgICAgdGhpcy5faXNMaWtlZCA9IHVwZGF0ZWRDYXJkLmxpa2VzLnNvbWUoXG4gICAgICAgICAgKHVzZXIpID0+IHVzZXIuX2lkID09PSB0aGlzLl9jdXJyZW50VXNlcklkXG4gICAgICAgICk7XG4gICAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDYXJkID0gYXdhaXQgYXBpLmxpa2VDYXJkKHRoaXMuX2lkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJVcGRhdGVkIENhcmQgYWZ0ZXIgbGlrZTpcIiwgdXBkYXRlZENhcmQpO1xuICAgICAgICB0aGlzLl9pc0xpa2VkID0gdXBkYXRlZENhcmQubGlrZXMuc29tZShcbiAgICAgICAgICAodXNlcikgPT4gdXNlci5faWQgPT09IHRoaXMuX2N1cnJlbnRVc2VySWRcbiAgICAgICAgKTtcbiAgICAgICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxpa2luZy91bmxpa2luZyBjYXJkOlwiLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9oYW5kbGVEZWxldGVCdXR0b24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS5kZWxldGVDYXJkKHRoaXMuX2lkKTtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGNhcmQ6XCIsIGVycik7XG4gICAgfVxuICB9XG5cbiAgZ2V0VmlldygpIHtcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAvLyBnZXQgY2FyZCB2aWV3XG4gICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICBjb25zdCBjYXJkQ2FwdGlvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fY2FwdGlvblwiKTtcbiAgICBjb25zdCBsaWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcblxuICAgIGNhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGNhcmRJbWFnZS5hbHQgPSB0aGlzLl9hbHQ7XG4gICAgY2FyZENhcHRpb24udGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcbiAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbmRlckluaXRpYWxDYXJkcyhcbiAgY2FyZFNlbGVjdG9yLFxuICBoYW5kbGVJbWFnZUNsaWNrLFxuICBjdXJyZW50VXNlcklkXG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcGkuZ2V0SW5pdGlhbENhcmRzKCk7XG4gICAgY29uc29sZS5sb2coXCJJbml0aWFsIENhcmRzIERhdGE6XCIsIHJlc3VsdCk7XG4gICAgcmVzdWx0LmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgY2FyZCB3aXRoIGRhdGE6XCIsIGRhdGEpO1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICBkYXRhLFxuICAgICAgICBjYXJkU2VsZWN0b3IsXG4gICAgICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgICAgIGN1cnJlbnRVc2VySWRcbiAgICAgICk7XG4gICAgICBjYXJkTGlzdC5hcHBlbmQoY2FyZC5nZXRWaWV3KCkpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBpbml0aWFsIGNhcmRzOlwiLCBlcnIpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgLy8gUFJJVkFURSBNRVRIT0RTXG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgLy8gUFVCTElDIE1FVEhPRFNcblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVNb3VzZURvd24gPSB0aGlzLl9oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVNb3VzZVVwID0gdGhpcy5faGFuZGxlTW91c2VVcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2lzTW91c2VEb3duT25Nb2RhbCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gT3RoZXIgbWV0aG9kcy4uLlxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSkge1xuICAgICAgdGhpcy5faXNNb3VzZURvd25Pbk1vZGFsID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faXNNb3VzZURvd25Pbk1vZGFsID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZU1vdXNlVXAoZXZlbnQpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLl9pc01vdXNlRG93bk9uTW9kYWwgJiZcbiAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIilcbiAgICApIHtcbiAgICAgIHRoaXMuY2xvc2UoZXZlbnQudGFyZ2V0KTtcbiAgICB9XG4gICAgdGhpcy5faXNNb3VzZURvd25Pbk1vZGFsID0gZmFsc2U7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVNb3VzZURvd24pO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9oYW5kbGVNb3VzZVVwKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIilcbiAgICApO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9pbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gYXN5bmMgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc3VibWl0dGluZyBmb3JtOlwiLCBlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX3N1Ym1pdEhhbmRsZXIpO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBhcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7XG4gIGJhc2VVcmwsXG4gIGF1dGhUb2tlbixcbiAgaW5pdGlhbENhcmRzLFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIHByb2ZpbGVFZGl0Rm9ybSxcbiAgcHJvZmlsZUFkZEZvcm0sXG4gIHByb2ZpbGVBdmF0YXJGb3JtLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZUFkZEJ1dHRvbixcbiAgcHJvZmlsZUF2YXRhckJ1dHRvbixcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVEZXNjcmlwdGlvbixcbiAgcHJvZmlsZUF2YXRhcixcbiAgcHJvZmlsZUlucHV0TmFtZSxcbiAgcHJvZmlsZUlucHV0RGVzY3JpcHRpb24sXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gRk9STSBWQUxJREFUSU9OIElOSVRcbmNvbnN0IHByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIHByb2ZpbGVFZGl0Rm9ybVxuKTtcbmNvbnN0IHByb2ZpbGVBZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgcHJvZmlsZUFkZEZvcm1cbik7XG5cbmNvbnN0IHByb2ZpbGVBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgcHJvZmlsZUF2YXRhckZvcm1cbik7XG5cbnByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5wcm9maWxlQWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5wcm9maWxlQXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vIFVTRVIgSU5GTyBJTklUXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogcHJvZmlsZU5hbWUsXG4gIGFib3V0U2VsZWN0b3I6IHByb2ZpbGVEZXNjcmlwdGlvbixcbiAgYXZhdGFyU2VsZWN0b3I6IHByb2ZpbGVBdmF0YXIsXG59KTtcblxubGV0IGN1cnJlbnRVc2VySWQ7XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KGRhdGEpIHtcbiAgdHJ5IHtcbiAgICBwcm9maWxlRWRpdFBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgYXdhaXQgYXBpLnVwZGF0ZVByb2ZpbGUoe1xuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgYWJvdXQ6IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgfSk7XG5cbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICBhYm91dDogZGF0YS5kZXNjcmlwdGlvbixcbiAgICB9KTtcblxuICAgIHByb2ZpbGVFZGl0Rm9ybS5yZXNldCgpO1xuICAgIHByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gICAgcHJvZmlsZUVkaXRQb3B1cC5jbG9zZSgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgcHJvZmlsZTpcIiwgZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBwcm9maWxlRWRpdFBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFkZEZvcm1TdWJtaXQoZGF0YSkge1xuICB0cnkge1xuICAgIHByb2ZpbGVBZGRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGNvbnN0IGNhcmREYXRhID0gYXdhaXQgYXBpLmFkZENhcmQoe1xuICAgICAgbmFtZTogZGF0YS5wbGFjZSxcbiAgICAgIGxpbms6IGRhdGEubGluayxcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChjYXJkRGF0YSwgY3VycmVudFVzZXJJZCk7XG4gICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG5cbiAgICBwcm9maWxlQWRkRm9ybS5yZXNldCgpO1xuICAgIHByb2ZpbGVBZGRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcbiAgICBwcm9maWxlQWRkUG9wdXAuY2xvc2UoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyBjYXJkOlwiLCBlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIHByb2ZpbGVBZGRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGRhdGEpIHtcbiAgdHJ5IHtcbiAgICBwcm9maWxlQXZhdGFyUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhd2FpdCBhcGkudXBkYXRlQXZhdGFyKGRhdGEubGluayk7XG5cbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBhdmF0YXI6IGRhdGEubGluayxcbiAgICB9KTtcblxuICAgIHByb2ZpbGVBdmF0YXJGb3JtLnJlc2V0KCk7XG4gICAgcHJvZmlsZUF2YXRhckZvcm1WYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xuICAgIHByb2ZpbGVBdmF0YXJQb3B1cC5jbG9zZSgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgYXZhdGFyOlwiLCBlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIHByb2ZpbGVBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgfVxufVxuXG4vLyBQT1BVUCBJTklUXG5jb25zdCBwcm9maWxlRWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVFZGl0Rm9ybVN1Ym1pdFxuKTtcblxuY29uc3QgcHJvZmlsZUFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtYWRkLW1vZGFsXCIsXG4gIGhhbmRsZUFkZEZvcm1TdWJtaXRcbik7XG5cbmNvbnN0IHByb2ZpbGVBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLWF2YXRhci1tb2RhbFwiLFxuICBoYW5kbGVBdmF0YXJGb3JtU3VibWl0XG4pO1xuXG5jb25zdCBwcm9maWxlUHJldmlld1BvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3Byb2ZpbGUtcHJldmlldy1tb2RhbFwiKTtcblxucHJvZmlsZUVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xucHJvZmlsZUFkZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wcm9maWxlQXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnByb2ZpbGVQcmV2aWV3UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gU0VDVElPTiBJTklUXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChpdGVtLCBjdXJyZW50VXNlcklkKTtcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQsIHRydWUpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmNhcmRzX19saXN0XCJcbik7XG5cbi8vIENSRUFURSBDQVJEXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEsIGN1cnJlbnRVc2VySWQpIHtcbiAgY29uc29sZS5sb2coXCJDcmVhdGluZyBjYXJkIHdpdGggdXNlciBJRDpcIiwgY3VycmVudFVzZXJJZCk7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBkYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGN1cnJlbnRVc2VySWRcbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufVxuXG4vLyBJTUFHRSBDTElDSyBIQU5ETEVSXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGxpbmssIGFsdCwgbmFtZSkge1xuICBwcm9maWxlUHJldmlld1BvcHVwLm9wZW4obGluaywgYWx0LCBuYW1lKTtcbn1cblxuLy8gRVZFTlQgTElTVEVORVJTXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG5cbiAgcHJvZmlsZUlucHV0TmFtZS52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XG4gIHByb2ZpbGVJbnB1dERlc2NyaXB0aW9uLnZhbHVlID0gdXNlckRhdGEuYWJvdXQ7XG5cbiAgcHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwcm9maWxlRWRpdFBvcHVwLm9wZW4oKTtcbn0pO1xuXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2ZpbGVBZGRQb3B1cC5vcGVuKCk7XG59KTtcblxucHJvZmlsZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9maWxlQXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VySW5mb0RhdGEgPSBhd2FpdCBhcGkuZ2V0VXNlckluZm8oKTtcbiAgICBjdXJyZW50VXNlcklkID0gdXNlckluZm9EYXRhLl9pZDtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VySW5mb0RhdGEpO1xuXG4gICAgY29uc29sZS5sb2coXCJDdXJyZW50IFVzZXIgSUQ6XCIsIGN1cnJlbnRVc2VySWQpO1xuXG4gICAgY29uc3QgaW5pdGlhbENhcmRzRGF0YSA9IGF3YWl0IGFwaS5nZXRJbml0aWFsQ2FyZHMoKTtcblxuICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbCBDYXJkcyBEYXRhOlwiLCBpbml0aWFsQ2FyZHNEYXRhKTtcblxuICAgIGluaXRpYWxDYXJkc0RhdGEuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJDYXJkIERhdGE6XCIsIGRhdGEpO1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEsIGN1cnJlbnRVc2VySWQpO1xuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgaW5pdGlhbCBsb2FkOlwiLCBlcnIpO1xuICB9XG59KTtcblxuLy8gSW5pdGlhbCByZW5kZXJcbmNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG4iLCJpbXBvcnQgYXBpIGZyb20gXCIuLi91dGlscy9BcGkuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Fib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuXG4gICAgaWYgKCF0aGlzLl9uYW1lRWxlbWVudCkge1xuICAgICAgY29uc29sZS5lcnJvcihgRWxlbWVudCBub3QgZm91bmQgZm9yIHNlbGVjdG9yOiAke25hbWVTZWxlY3Rvcn1gKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9hYm91dEVsZW1lbnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVsZW1lbnQgbm90IGZvdW5kIGZvciBzZWxlY3RvcjogJHthYm91dFNlbGVjdG9yfWApO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX2F2YXRhckVsZW1lbnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVsZW1lbnQgbm90IGZvdW5kIGZvciBzZWxlY3RvcjogJHthdmF0YXJTZWxlY3Rvcn1gKTtcbiAgICB9XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXRFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcbiAgICBpZiAobmFtZSkgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIGlmIChhYm91dCkgdGhpcy5fYWJvdXRFbGVtZW50LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgaWYgKGF2YXRhcikgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSBhdmF0YXI7XG4gIH1cblxuICBhc3luYyB1cGRhdGVVc2VySW5mbygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckluZm8gPSBhd2FpdCBhcGkuZ2V0VXNlckluZm8oKTtcbiAgICAgIHRoaXMuc2V0VXNlckluZm8oe1xuICAgICAgICBuYW1lOiB1c2VySW5mby5uYW1lLFxuICAgICAgICBhYm91dDogdXNlckluZm8uYWJvdXQsXG4gICAgICAgIGF2YXRhcjogdXNlckluZm8uYXZhdGFyLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbiAgICB0aGlzLl9wbGFjZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX2hlYWRpbmdfdHlwZV9wcmV2aWV3XCJcbiAgICApO1xuICB9XG5cbiAgb3BlbihsaW5rLCBhbHQsIHBsYWNlKSB7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBhbHQ7XG4gICAgdGhpcy5fcGxhY2UudGV4dENvbnRlbnQgPSBwbGFjZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVBZGRNb2RhbCIsInByb2ZpbGVBdmF0YXJNb2RhbCIsInByb2ZpbGVQcmV2aWV3TW9kYWwiLCJwcm9maWxlRWRpdEZvcm0iLCJwcm9maWxlQWRkRm9ybSIsInByb2ZpbGVBdmF0YXJGb3JtIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlQWRkQnV0dG9uIiwicHJvZmlsZUF2YXRhckJ1dHRvbiIsInByb2ZpbGVJbnB1dE5hbWUiLCJwcm9maWxlSW5wdXREZXNjcmlwdGlvbiIsInZhbGlkYXRpb25TZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiYXBpIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwidGhpcyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIl9yZXF1ZXN0IiwiZW5kcG9pbnQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjb25zb2xlIiwibG9nIiwiZmV0Y2giLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsInVwZGF0ZVByb2ZpbGUiLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXJMaW5rIiwiYXZhdGFyIiwiYWRkQ2FyZCIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJBdXRob3JpemF0aW9uIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJjdXJyZW50VXNlcklkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2FsdCIsImFsdCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9pZCIsIl9saWtlcyIsImxpa2VzIiwiX2N1cnJlbnRVc2VySWQiLCJfaXNMaWtlZCIsInNvbWUiLCJ1c2VyIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsImxpa2VCdXR0b24iLCJ1cGRhdGVkQ2FyZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImVyciIsImVycm9yIiwiZ2V0VmlldyIsImNhcmRUZW1wbGF0ZSIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiY2FyZEltYWdlIiwiY2FyZENhcHRpb24iLCJzcmMiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImZvckVhY2giLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJyZXNldFZhbGlkYXRpb24iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9oYW5kbGVNb3VzZURvd24iLCJfaGFuZGxlTW91c2VVcCIsIl9pc01vdXNlRG93bk9uTW9kYWwiLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dHMiLCJfc3VibWl0QnV0dG9uVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJfc3VibWl0SGFuZGxlciIsImFzeW5jIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsInByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvciIsInByb2ZpbGVBZGRGb3JtVmFsaWRhdG9yIiwicHJvZmlsZUF2YXRhckZvcm1WYWxpZGF0b3IiLCJ1c2VySW5mbyIsIl9yZWYiLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfYWJvdXRFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJhYm91dCIsInNldFVzZXJJbmZvIiwiX3JlZjIiLCJ1cGRhdGVVc2VySW5mbyIsInByb2ZpbGVFZGl0UG9wdXAiLCJkZXNjcmlwdGlvbiIsInJlc2V0IiwicHJvZmlsZUFkZFBvcHVwIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkIiwicGxhY2UiLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJwcm9maWxlQXZhdGFyUG9wdXAiLCJwcm9maWxlUHJldmlld1BvcHVwIiwiX2ltYWdlIiwiX3BsYWNlIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwidXNlckRhdGEiLCJ1c2VySW5mb0RhdGEiLCJpbml0aWFsQ2FyZHNEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==