!function(){"use strict";class e{constructor(e,t,s){this._place=e.place,this._link=e.link,this._alt=e.alt,this._cardSelector=t,this._handleImageClick=s}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeButton()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteButton()})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick(this._link,this._alt,this._place)}))}_handleLikeButton(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}_handleDeleteButton(){this._cardElement.remove(),this._cardElement=null}getView(){const e=document.querySelector(this._cardSelector);this._cardElement=e.content.firstElementChild.cloneNode(!0);const t=this._cardElement.querySelector(".card__image"),s=this._cardElement.querySelector(".card__caption");return t.src=this._link,t.alt=this._alt,s.textContent=this._place,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._settings=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent="",t.classList.remove(this._settings.errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._toggleButtonState()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}}class s{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._isMouseDownOnModal=!1}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleMouseDown(e){e.target.classList.contains("modal_opened")?this._isMouseDownOnModal=!0:this._isMouseDownOnModal=!1}_handleMouseUp(e){this._isMouseDownOnModal&&e.target.classList.contains("modal_opened")&&this.close(e.target),this._isMouseDownOnModal=!1}setEventListeners(){this._popupElement.addEventListener("mousedown",this._handleMouseDown),this._popupElement.addEventListener("mouseup",this._handleMouseUp),this._popupElement.querySelector(".modal__close").addEventListener("click",(()=>this.close()))}}class n extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputs=Array.from(this._popupForm.querySelectorAll(".modal__input"))}_getInputValues(){return this._inputValues={},this._inputs.forEach((e=>{this._inputValues[e.name]=e.value})),this._inputValues}setEventListeners(){super.setEventListeners(),this._submitHandler=e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()},this._popupForm.addEventListener("submit",this._submitHandler)}}document.querySelector("#card-template").content;const o=document.querySelector("#profile-edit-modal"),i=document.querySelector("#profile-add-modal"),r=document.querySelector("#profile-preview-modal"),a=o.querySelector(".modal__form"),l=i.querySelector(".modal__form"),c=(document.querySelector(".cards__list"),document.querySelector("#profile-edit-button")),u=(o.querySelector("#modal-button-close"),i.querySelector("#modal-button-close"),document.querySelector("#profile-add-button"));r.querySelector("#modal-button-close"),r.querySelector(".modal__image"),r.querySelector(".modal__heading");const d=document.querySelector("#modal-input-name"),m=document.querySelector("#modal-input-description"),_=(l.querySelector("#modal-input-place"),l.querySelector("#modal-input-link"),{formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__submit-button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active"}),h=new t(_,a),p=new t(_,l);h.enableValidation(),p.enableValidation();const g=new class{constructor(e){let{nameSelector:t,jobSelector:s}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}setUserInfo(e){let{name:t,job:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}}({nameSelector:"#profile-name",jobSelector:"#profile-description"}),E=new n("#profile-edit-modal",(function(e){g.setUserInfo({name:e.title,job:e.description}),a.reset(),h.disableButton(),E.close()})),f=new n("#profile-add-modal",(function(e){const t=S({place:e.place,link:e.link,alt:`Image of ${e.place}`});y.addItem(t),l.reset(),p.resetValidation(),p.disableButton(),f.close()})),w=new class extends s{constructor(e){super(e),this._image=this._popupElement.querySelector(".modal__image"),this._place=this._popupElement.querySelector(".modal__heading_type_preview")}open(e,t,s){this._image.src=e,this._image.alt=t,this._place.textContent=s,super.open()}}("#profile-preview-modal");E.setEventListeners(),f.setEventListeners(),w.setEventListeners();const y=new class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{place:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",alt:"Sunset view of Yosemite Valley with El Capitan visible, river flowing in the foreground surrounded by dense pine trees."},{place:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",alt:"Calm waters of Lake Louise reflecting the surrounding mountains under a soft blue sky."},{place:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg",alt:"Sunburst peaking over the silhouette of the Bald Mountains at sunrise, casting a warm glow across the hazy, layered ridges."},{place:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg",alt:"Starry night sky over the jagged peaks of Latemar mountain range with remnants of snow highlighting its rugged terrain."},{place:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg",alt:"Twilight hues casting a soft glow on the peaks of Vanoise National Park, reflected in the still waters of a mountain lake."},{place:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg",alt:"Wooden boats moored at a dock on Lago di Braies with towering Dolomite mountains reflecting in the crystal-clear lake water."}],renderer:e=>{const t=S(e);y.addItem(t,!0)}},".cards__list");function S(t){return new e(t,"#card-template",v).getView()}function v(e,t,s){w.open(e,t,s)}c.addEventListener("click",(()=>{const e=g.getUserInfo();d.value=e.name,m.value=e.job,h.resetValidation(),E.open()})),u.addEventListener("click",(()=>{f.open()})),y.renderItems()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU90RSxTQUFTMEUsSUFDbkJwSSxLQUFLaUksVUFBVUcsRUFBSyxHQUV4QixDQUVBVixPQUFBQSxDQUFRVyxHQUNOckksS0FBS2tJLFdBQVdJLFFBQVFELEVBQzFCLEdIdUVBLENBQ0VQLE1EckZ3QixDQUMxQixDQUNFNUgsTUFBTyxrQkFDUEUsS0FBTSxxR0FDTkUsSUFBSywySEFFUCxDQUNFSixNQUFPLGNBQ1BFLEtBQU0sd0dBQ05FLElBQUssMEZBRVAsQ0FDRUosTUFBTyxpQkFDUEUsS0FBTSwyR0FDTkUsSUFBSywrSEFFUCxDQUNFSixNQUFPLFVBQ1BFLEtBQU0sb0dBQ05FLElBQUssMkhBRVAsQ0FDRUosTUFBTyx3QkFDUEUsS0FBTSxvR0FDTkUsSUFBSyw4SEFFUCxDQUNFSixNQUFPLGlCQUNQRSxLQUFNLGlHQUNORSxJQUFLLGlJQ3lETHlILFNBQVdLLElBQ1QsTUFBTWIsRUFBY0MsRUFBV1ksR0FDL0JYLEVBQVlDLFFBQVFILEdBQWEsRUFBSyxHQUcxQyxnQkFJRixTQUFTQyxFQUFXM0gsR0FFbEIsT0FEYSxJQUFJRixFQUFLRSxFQUFNLGlCQUFrQkUsR0FDbENtQixTQUNkLENBR0EsU0FBU25CLEVBQWlCSyxFQUFNRSxFQUFLSixHQUNuQ3lILEVBQW9CcEQsS0FBS25FLEVBQU1FLEVBQUtKLEVBQ3RDLENBR0E4RixFQUFrQnBGLGlCQUFpQixTQUFTLEtBQzFDLE1BQU0ySCxFQUFXL0IsRUFBU00sY0FFMUJaLEVBQWlCVCxNQUFROEMsRUFBUy9DLEtBQ2xDVyxFQUF3QlYsTUFBUThDLEVBQVN4QixJQUV6Q1QsRUFBeUJ4QyxrQkFDekJvRCxFQUFpQjNDLE1BQU0sSUFHekIwQixFQUFpQnJGLGlCQUFpQixTQUFTLEtBQ3pDMEcsRUFBZ0IvQyxNQUFNLElBSXhCa0QsRUFBWVUsYSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlSW1hZ2VDbGljaykge1xuICAgIHRoaXMuX3BsYWNlID0gZGF0YS5wbGFjZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2FsdCA9IGRhdGEuYWx0O1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fbGluaywgdGhpcy5fYWx0LCB0aGlzLl9wbGFjZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlQnV0dG9uKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlQnV0dG9uKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgLy8gZ2V0IGNhcmQgdmlld1xuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgY29uc3QgY2FyZENhcHRpb24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2NhcHRpb25cIik7XG5cbiAgICBjYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICBjYXJkSW1hZ2UuYWx0ID0gdGhpcy5fYWx0O1xuICAgIGNhcmRDYXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5fcGxhY2U7XG5cbiAgICAvLyBzZXQgZXZlbnQgbGlzdGVuZXJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgLy8gcmV0dXJuIGNhcmRcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICAvLyBQUklWQVRFIE1FVEhPRFNcblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cblxuICAvLyBQVUJMSUMgTUVUSE9EU1xuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cblxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZU1vdXNlRG93biA9IHRoaXMuX2hhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZU1vdXNlVXAgPSB0aGlzLl9oYW5kbGVNb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faXNNb3VzZURvd25Pbk1vZGFsID0gZmFsc2U7XG4gIH1cblxuICAvLyBPdGhlciBtZXRob2RzLi4uXG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XG4gICAgICB0aGlzLl9pc01vdXNlRG93bk9uTW9kYWwgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9pc01vdXNlRG93bk9uTW9kYWwgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlTW91c2VVcChldmVudCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuX2lzTW91c2VEb3duT25Nb2RhbCAmJlxuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKVxuICAgICkge1xuICAgICAgdGhpcy5jbG9zZShldmVudC50YXJnZXQpO1xuICAgIH1cbiAgICB0aGlzLl9pc01vdXNlRG93bk9uTW9kYWwgPSBmYWxzZTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZU1vdXNlRG93bik7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuX2hhbmRsZU1vdXNlVXApO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKVxuICAgICk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5faW5wdXRWYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH07XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fc3VibWl0SGFuZGxlcik7XG4gIH1cbn1cbiIsImltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIHBsYWNlOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgICBhbHQ6IFwiU3Vuc2V0IHZpZXcgb2YgWW9zZW1pdGUgVmFsbGV5IHdpdGggRWwgQ2FwaXRhbiB2aXNpYmxlLCByaXZlciBmbG93aW5nIGluIHRoZSBmb3JlZ3JvdW5kIHN1cnJvdW5kZWQgYnkgZGVuc2UgcGluZSB0cmVlcy5cIixcbiAgfSxcbiAge1xuICAgIHBsYWNlOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuICAgIGFsdDogXCJDYWxtIHdhdGVycyBvZiBMYWtlIExvdWlzZSByZWZsZWN0aW5nIHRoZSBzdXJyb3VuZGluZyBtb3VudGFpbnMgdW5kZXIgYSBzb2Z0IGJsdWUgc2t5LlwiLFxuICB9LFxuICB7XG4gICAgcGxhY2U6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gICAgYWx0OiBcIlN1bmJ1cnN0IHBlYWtpbmcgb3ZlciB0aGUgc2lsaG91ZXR0ZSBvZiB0aGUgQmFsZCBNb3VudGFpbnMgYXQgc3VucmlzZSwgY2FzdGluZyBhIHdhcm0gZ2xvdyBhY3Jvc3MgdGhlIGhhenksIGxheWVyZWQgcmlkZ2VzLlwiLFxuICB9LFxuICB7XG4gICAgcGxhY2U6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxuICAgIGFsdDogXCJTdGFycnkgbmlnaHQgc2t5IG92ZXIgdGhlIGphZ2dlZCBwZWFrcyBvZiBMYXRlbWFyIG1vdW50YWluIHJhbmdlIHdpdGggcmVtbmFudHMgb2Ygc25vdyBoaWdobGlnaHRpbmcgaXRzIHJ1Z2dlZCB0ZXJyYWluLlwiLFxuICB9LFxuICB7XG4gICAgcGxhY2U6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXG4gICAgYWx0OiBcIlR3aWxpZ2h0IGh1ZXMgY2FzdGluZyBhIHNvZnQgZ2xvdyBvbiB0aGUgcGVha3Mgb2YgVmFub2lzZSBOYXRpb25hbCBQYXJrLCByZWZsZWN0ZWQgaW4gdGhlIHN0aWxsIHdhdGVycyBvZiBhIG1vdW50YWluIGxha2UuXCIsXG4gIH0sXG4gIHtcbiAgICBwbGFjZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICAgIGFsdDogXCJXb29kZW4gYm9hdHMgbW9vcmVkIGF0IGEgZG9jayBvbiBMYWdvIGRpIEJyYWllcyB3aXRoIHRvd2VyaW5nIERvbG9taXRlIG1vdW50YWlucyByZWZsZWN0aW5nIGluIHRoZSBjcnlzdGFsLWNsZWFyIGxha2Ugd2F0ZXIuXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQ7XG5cbi8vIEVsZW1lbnRzXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hZGQtbW9kYWxcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtcHJldmlldy1tb2RhbFwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkRm9ybSA9IHByb2ZpbGVBZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuLy8gQnV0dG9uc1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uQ2xvc2UgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI21vZGFsLWJ1dHRvbi1jbG9zZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBZGRCdXR0b25DbG9zZSA9IHByb2ZpbGVBZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbC1idXR0b24tY2xvc2VcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWFkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVByZXZpZXdCdXR0b25DbG9zZSA9IHByb2ZpbGVQcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjbW9kYWwtYnV0dG9uLWNsb3NlXCJcbik7XG5leHBvcnQgbGV0IGlzTW91c2VEb3duT25Nb2RhbCA9IGZhbHNlO1xuXG4vLyBQcm9maWxlIERhdGFcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IFwiI3Byb2ZpbGUtbmFtZVwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IFwiI3Byb2ZpbGUtZGVzY3JpcHRpb25cIjtcbmV4cG9ydCBjb25zdCBjYXJkUHJldmlld0ltYWdlID1cbiAgcHJvZmlsZVByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBjYXJkUHJldmlld0NhcHRpb24gPVxuICBwcm9maWxlUHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2hlYWRpbmdcIik7XG5cbi8vIEZvcm0gRGF0YVxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWlucHV0LW5hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUlucHV0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbC1pbnB1dC1kZXNjcmlwdGlvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbnB1dFBsYWNlID1cbiAgcHJvZmlsZUFkZEZvcm0ucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbnB1dC1wbGFjZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXRMaW5rID1cbiAgcHJvZmlsZUFkZEZvcm0ucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbnB1dC1saW5rXCIpO1xuXG4vLyBWYWxpZGF0aW9uIHNldHRpbmdzXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcbn07XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7XG4gIGluaXRpYWxDYXJkcyxcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBwcm9maWxlRWRpdEZvcm0sXG4gIHByb2ZpbGVBZGRGb3JtLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZUFkZEJ1dHRvbixcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVEZXNjcmlwdGlvbixcbiAgcHJvZmlsZUlucHV0TmFtZSxcbiAgcHJvZmlsZUlucHV0RGVzY3JpcHRpb24sXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbi8vIGltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCJsb2Rhc2hcIjtcbi8vIGltcG9ydCB7IHByb2ZpbGUgfSBmcm9tIFwiY29uc29sZVwiO1xuXG4vLyBGT1JNIFZBTElEQVRJT04gSU5JVFxuY29uc3QgcHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgcHJvZmlsZUVkaXRGb3JtXG4pO1xuY29uc3QgcHJvZmlsZUFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBwcm9maWxlQWRkRm9ybVxuKTtcblxucHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbnByb2ZpbGVBZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8gVVNFUiBJTkZPIElOSVRcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBwcm9maWxlTmFtZSxcbiAgam9iU2VsZWN0b3I6IHByb2ZpbGVEZXNjcmlwdGlvbixcbn0pO1xuXG5mdW5jdGlvbiBoYW5kbGVFZGl0Rm9ybVN1Ym1pdChkYXRhKSB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICBuYW1lOiBkYXRhLnRpdGxlLFxuICAgIGpvYjogZGF0YS5kZXNjcmlwdGlvbixcbiAgfSk7XG5cbiAgcHJvZmlsZUVkaXRGb3JtLnJlc2V0KCk7XG4gIHByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gIHByb2ZpbGVFZGl0UG9wdXAuY2xvc2UoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkRm9ybVN1Ym1pdChkYXRhKSB7XG4gIGNvbnN0IGNhcmREYXRhID0ge1xuICAgIHBsYWNlOiBkYXRhLnBsYWNlLFxuICAgIGxpbms6IGRhdGEubGluayxcbiAgICBhbHQ6IGBJbWFnZSBvZiAke2RhdGEucGxhY2V9YCxcbiAgfTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcblxuICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgcHJvZmlsZUFkZEZvcm0ucmVzZXQoKTtcbiAgcHJvZmlsZUFkZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHByb2ZpbGVBZGRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcbiAgcHJvZmlsZUFkZFBvcHVwLmNsb3NlKCk7XG59XG5cbi8vIFBPUFVQIElOSVRcbmNvbnN0IHByb2ZpbGVFZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZUVkaXRGb3JtU3VibWl0XG4pO1xuXG5jb25zdCBwcm9maWxlQWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1hZGQtbW9kYWxcIixcbiAgaGFuZGxlQWRkRm9ybVN1Ym1pdFxuKTtcblxuY29uc3QgcHJvZmlsZVByZXZpZXdQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcm9maWxlLXByZXZpZXctbW9kYWxcIik7XG5cbnByb2ZpbGVFZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnByb2ZpbGVBZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xucHJvZmlsZVByZXZpZXdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBTRUNUSU9OIElOSVRcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCwgdHJ1ZSk7XG4gICAgfSxcbiAgfSxcbiAgXCIuY2FyZHNfX2xpc3RcIlxuKTtcblxuLy8gQ1JFQVRFIENBUkRcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVJbWFnZUNsaWNrKTtcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufVxuXG4vLyBJTUFHRSBDTElDSyBIQU5ETEVSXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGxpbmssIGFsdCwgcGxhY2UpIHtcbiAgcHJvZmlsZVByZXZpZXdQb3B1cC5vcGVuKGxpbmssIGFsdCwgcGxhY2UpO1xufVxuXG4vLyBFVkVOVCBMSVNURU5FUlNcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcblxuICBwcm9maWxlSW5wdXROYW1lLnZhbHVlID0gdXNlckRhdGEubmFtZTtcbiAgcHJvZmlsZUlucHV0RGVzY3JpcHRpb24udmFsdWUgPSB1c2VyRGF0YS5qb2I7XG5cbiAgcHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwcm9maWxlRWRpdFBvcHVwLm9wZW4oKTtcbn0pO1xuXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2ZpbGVBZGRQb3B1cC5vcGVuKCk7XG59KTtcblxuLy8gLy8gSW5pdGlhbCByZW5kZXJcbmNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG5cbi8vIFdpbGwgYWRkIG5lZWRzIGNvcnJlY3RlZCBpbiBmdXR1cmVcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5fcGxhY2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19oZWFkaW5nX3R5cGVfcHJldmlld1wiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4obGluaywgYWx0LCBwbGFjZSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYWx0O1xuICAgIHRoaXMuX3BsYWNlLnRleHRDb250ZW50ID0gcGxhY2U7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJ0aGlzIiwiX3BsYWNlIiwicGxhY2UiLCJfbGluayIsImxpbmsiLCJfYWx0IiwiYWx0IiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJnZXRWaWV3IiwiY2FyZFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbG9uZU5vZGUiLCJjYXJkSW1hZ2UiLCJjYXJkQ2FwdGlvbiIsInNyYyIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JDbGFzcyIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlQnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiZm9yRWFjaCIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZU1vdXNlRG93biIsIl9oYW5kbGVNb3VzZVVwIiwiX2lzTW91c2VEb3duT25Nb2RhbCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleSIsInRhcmdldCIsImNvbnRhaW5zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0cyIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbnB1dFZhbHVlcyIsImlucHV0IiwibmFtZSIsInZhbHVlIiwiX3N1Ym1pdEhhbmRsZXIiLCJwcm9maWxlRWRpdE1vZGFsIiwicHJvZmlsZUFkZE1vZGFsIiwicHJvZmlsZVByZXZpZXdNb2RhbCIsInByb2ZpbGVFZGl0Rm9ybSIsInByb2ZpbGVBZGRGb3JtIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlQWRkQnV0dG9uIiwicHJvZmlsZUlucHV0TmFtZSIsInByb2ZpbGVJbnB1dERlc2NyaXB0aW9uIiwidmFsaWRhdGlvblNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yIiwicHJvZmlsZUFkZEZvcm1WYWxpZGF0b3IiLCJ1c2VySW5mbyIsIl9yZWYiLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiZ2V0VXNlckluZm8iLCJqb2IiLCJzZXRVc2VySW5mbyIsIl9yZWYyIiwicHJvZmlsZUVkaXRQb3B1cCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJyZXNldCIsInByb2ZpbGVBZGRQb3B1cCIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImNhcmRTZWN0aW9uIiwiYWRkSXRlbSIsInByb2ZpbGVQcmV2aWV3UG9wdXAiLCJfaW1hZ2UiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJ1c2VyRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=